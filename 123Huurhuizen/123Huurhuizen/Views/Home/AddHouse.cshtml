<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@ViewData["Title"]</title>
</head>
<body>
    <h1>Voer gegevens in:</h1>
    <form enctype="multipart/form-data" asp-controller="Home" asp-action="AddHouse">
        <label for="location">Locatie:</label>
        <input type="text" id="location" name="location" required><br><br>

        <!-- Verborgen inputveld voor tijd -->
        <input type="hidden" id="time" name="time">

        <label for="date">Datum:</label>
        <input type="date" id="date" name="date" required><br><br>

        <label for="price">Prijs:</label>
        <input type="number" id="price" name="price" step="0.01" required><span>€</span><br><br>

        <label for="information">Aanvullende informatie:</label>
        <textarea id="information" name="information" rows="4" cols="50"></textarea><br><br>

        <!-- Bestandsinvoerveld voor het uploaden van één foto -->
        <label for="photos">Foto uploaden:</label>
        <input type="file" id="photos" name="photos" accept=".png, .jpg" multiple onchange="displaySelectedFile(this.files)">


        <!-- Container voor weergave van geselecteerde foto's -->
        <div id="selectedFiles"></div><br><br>

        <input type="submit" value="Verzenden">
    </form>

    <script>
        // JavaScript voor validatie en instellen van de tijd
        function validateForm() {
            var locationInput = document.getElementById("location").value;
            if (locationInput.trim() === "") {
                alert("Voer een locatie in.");
                return false;
            }

            // Tijdstip instellen op het huidige tijdstip
            document.getElementById('date').addEventListener('change', function () {
                var inputDate = new Date(this.value); // Convert input value to Date object
                var formattedDate = inputDate.toISOString().split('T')[0]; // Extract only the date part
                console.log(formattedDate); // Output the formatted date (YYYY-MM-DD)
            });

            return true;
        }

        // JavaScript om de geselecteerde foto weer te geven
        function displaySelectedFile(files) {
            var selectedFilesDiv = document.getElementById("selectedFiles");
            selectedFilesDiv.innerHTML = ''; // Clear the div before adding new files

            for (var i = 0; i < files.length; i++) {
                var file = files[i];
                var fileName = file.name;
                var fileElement = document.createElement("p");
                fileElement.textContent = fileName;
                selectedFilesDiv.appendChild(fileElement);
            }
        }
    </script>
</body>
</html>
